{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/teerapat/Documents/project/ecommerce/client/pages/login/index.js\";\nimport classes from \"./login.module.css\";\nimport axios from \"axios\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport Redirect from \"../../components/Redirect\";\nimport { useCookies } from \"react-cookie\";\n\nconst Login = props => {\n  const {\n    0: login,\n    1: setLogin\n  } = useState(true);\n  const {\n    0: errLogin,\n    1: setErrLogin\n  } = useState(false);\n  const {\n    0: errMsg,\n    1: setErrMsg\n  } = useState(\"\");\n  const {\n    0: email,\n    1: setEmail\n  } = useState(\"\");\n  const {\n    0: name,\n    1: setName\n  } = useState(\"\");\n  const {\n    0: password,\n    1: setPassword\n  } = useState(\"\");\n  const {\n    0: userLogin,\n    1: setUserLogin\n  } = useState(false);\n  const [cookie, setCookie] = useCookies([\"token\"]);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) setUserLogin(true);\n  }, []);\n\n  if (userLogin) {\n    return /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 12\n    }, this);\n  }\n\n  const validateEmail = email => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  };\n\n  const handlerSubmit = () => {\n    if (!validateEmail(email)) {\n      alert(\"อีเมลไม่ถูกต้อง\");\n      return;\n    }\n\n    let authAction = \"login\";\n    let dataAuth = {\n      email: email,\n      password: password\n    };\n\n    if (!login) {\n      if (name.trim === \"\") alert(\"กรุณาใส่ข้อมูลให้ครบ\");\n      authAction = \"register\";\n      dataAuth[\"name\"] = name;\n    }\n\n    if (email.trim === \"\" || password.trim() === \"\") {\n      alert(\"กรุณาใส่ข้อมูลให้ครบ\");\n    } else {\n      axios({\n        url: `http://localhost:8000/api/user/${authAction}`,\n        method: \"post\",\n        data: dataAuth,\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(res => {\n        console.log(res);\n\n        if (res.data.status === true) {\n          if (login) {\n            localStorage.setItem(\"token\", res.data.token);\n            cookies.set(\"myCat\", res.data.token, {\n              path: \"/\"\n            });\n            setUserLogin(true);\n            window.location.href = \"/\";\n          } else {\n            setErrLogin(false);\n            alert(\"สมัครสมาชิกเรียบร้อย\");\n            setLogin(!login);\n          }\n        } else {\n          setErrMsg(res.data.error);\n          setErrLogin(true);\n        }\n      });\n      setEmail(\"\"), setPassword(\"\"), setName(\"\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.container__login + \" \" + \"container\",\n      onKeyDown: e => {\n        if (e.code === \"Enter\") {\n          handlerSubmit();\n        }\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.form__login,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: classes.title__login,\n          children: login ? \"เข้าสู่ระบบ\" : \"สมัครสมาชิก\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: classes.text__login,\n          children: \" \\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25 :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-label p-2\",\n          placeholder: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E43\\u0E2A\\u0E48\\u0E2D\\u0E35\\u0E40\\u0E21\\u0E25\",\n          value: email,\n          onChange: e => {\n            setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), !login ? /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: classes.text__login,\n            children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-label p-2\",\n            placeholder: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E43\\u0E2A\\u0E48\\u0E0A\\u0E37\\u0E48\\u0E2D\\u0E1C\\u0E39\\u0E49\\u0E43\\u0E0A\\u0E49\\u0E07\\u0E32\\u0E19\",\n            value: name,\n            onChange: e => {\n              setName(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this) : null, /*#__PURE__*/_jsxDEV(\"label\", {\n          className: classes.text__login,\n          children: \"\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19 :\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-label p-2\" + \" \" + classes.input_secure,\n          placeholder: \"\\u0E01\\u0E23\\u0E38\\u0E13\\u0E32\\u0E43\\u0E2A\\u0E48\\u0E23\\u0E2B\\u0E31\\u0E2A\\u0E1C\\u0E48\\u0E32\\u0E19\",\n          value: password,\n          onChange: e => {\n            setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn btn-primary mt-3 mb-3\",\n          value: login ? \"เข้าสู่ระบบ\" : \"สมัครสมาชิก\",\n          onClick: handlerSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            textAlign: \"center\"\n          },\n          children: [login ? \"ท่านยังไม่ได้เป็นสมาชิกใช่ไหม? \" : \"มีบัญชีอยู่แล้ว \", /*#__PURE__*/_jsxDEV(\"a\", {\n            style: {\n              color: login ? \"red\" : \"green\",\n              cursor: \"pointer\"\n            },\n            onClick: () => {\n              setErrLogin(false);\n              setEmail(\"\");\n              setPassword(\"\");\n              setName(\"\");\n              setLogin(!login);\n            },\n            children: login ? \"สร้างเลย\" : \"เข้าสู่ระบบ\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this), errLogin ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.error__login,\n          children: errMsg\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Login;","map":{"version":3,"sources":["/Users/teerapat/Documents/project/ecommerce/client/pages/login/index.js"],"names":["classes","axios","Fragment","useEffect","useState","Redirect","useCookies","Login","props","login","setLogin","errLogin","setErrLogin","errMsg","setErrMsg","email","setEmail","name","setName","password","setPassword","userLogin","setUserLogin","cookie","setCookie","token","localStorage","getItem","validateEmail","re","test","String","toLowerCase","handlerSubmit","alert","authAction","dataAuth","trim","url","method","data","headers","then","res","console","log","status","setItem","cookies","set","path","window","location","href","error","container__login","e","code","form__login","title__login","text__login","target","value","input_secure","textAlign","color","cursor","error__login"],"mappings":";;;AAAA,OAAOA,OAAP,MAAoB,oBAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,EAA8BC,QAA9B,QAA8C,OAA9C;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,SAASC,UAAT,QAA2B,cAA3B;;AACA,MAAMC,KAAK,GAAIC,KAAD,IAAW;AACvB,QAAM;AAAA,OAACC,KAAD;AAAA,OAAQC;AAAR,MAAoBN,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAM;AAAA,OAACO,QAAD;AAAA,OAAWC;AAAX,MAA0BR,QAAQ,CAAC,KAAD,CAAxC;AACA,QAAM;AAAA,OAACS,MAAD;AAAA,OAASC;AAAT,MAAsBV,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM;AAAA,OAACW,KAAD;AAAA,OAAQC;AAAR,MAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM;AAAA,OAACa,IAAD;AAAA,OAAOC;AAAP,MAAkBd,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM;AAAA,OAACe,QAAD;AAAA,OAAWC;AAAX,MAA0BhB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM;AAAA,OAACiB,SAAD;AAAA,OAAYC;AAAZ,MAA4BlB,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACmB,MAAD,EAASC,SAAT,IAAsBlB,UAAU,CAAC,CAAC,OAAD,CAAD,CAAtC;AACAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMsB,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AACA,QAAIF,KAAJ,EAAWH,YAAY,CAAC,IAAD,CAAZ;AACZ,GAHQ,EAGN,EAHM,CAAT;;AAKA,MAAID,SAAJ,EAAe;AACb,wBAAO,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YAAP;AACD;;AACD,QAAMO,aAAa,GAAIb,KAAD,IAAW;AAC/B,UAAMc,EAAE,GAAG,uJAAX;AACA,WAAOA,EAAE,CAACC,IAAH,CAAQC,MAAM,CAAChB,KAAD,CAAN,CAAciB,WAAd,EAAR,CAAP;AACD,GAHD;;AAIA,QAAMC,aAAa,GAAG,MAAM;AAC1B,QAAI,CAACL,aAAa,CAACb,KAAD,CAAlB,EAA2B;AACzBmB,MAAAA,KAAK,CAAC,iBAAD,CAAL;AACA;AACD;;AACD,QAAIC,UAAU,GAAG,OAAjB;AACA,QAAIC,QAAQ,GAAG;AACbrB,MAAAA,KAAK,EAAEA,KADM;AAEbI,MAAAA,QAAQ,EAAEA;AAFG,KAAf;;AAIA,QAAI,CAACV,KAAL,EAAY;AACV,UAAIQ,IAAI,CAACoB,IAAL,KAAc,EAAlB,EAAsBH,KAAK,CAAC,sBAAD,CAAL;AACtBC,MAAAA,UAAU,GAAG,UAAb;AACAC,MAAAA,QAAQ,CAAC,MAAD,CAAR,GAAmBnB,IAAnB;AACD;;AACD,QAAIF,KAAK,CAACsB,IAAN,KAAe,EAAf,IAAqBlB,QAAQ,CAACkB,IAAT,OAAoB,EAA7C,EAAiD;AAC/CH,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACD,KAFD,MAEO;AACLjC,MAAAA,KAAK,CAAC;AACJqC,QAAAA,GAAG,EAAG,kCAAiCH,UAAW,EAD9C;AAEJI,QAAAA,MAAM,EAAE,MAFJ;AAGJC,QAAAA,IAAI,EAAEJ,QAHF;AAIJK,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAJL,OAAD,CAAL,CAOGC,IAPH,CAOSC,GAAD,IAAS;AACfC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,YAAIA,GAAG,CAACH,IAAJ,CAASM,MAAT,KAAoB,IAAxB,EAA8B;AAC5B,cAAIrC,KAAJ,EAAW;AACTiB,YAAAA,YAAY,CAACqB,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACH,IAAJ,CAASf,KAAvC;AACAuB,YAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBN,GAAG,CAACH,IAAJ,CAASf,KAA9B,EAAqC;AAAEyB,cAAAA,IAAI,EAAE;AAAR,aAArC;AACA5B,YAAAA,YAAY,CAAC,IAAD,CAAZ;AACA6B,YAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;AACD,WALD,MAKO;AACLzC,YAAAA,WAAW,CAAC,KAAD,CAAX;AACAsB,YAAAA,KAAK,CAAC,sBAAD,CAAL;AACAxB,YAAAA,QAAQ,CAAC,CAACD,KAAF,CAAR;AACD;AACF,SAXD,MAWO;AACLK,UAAAA,SAAS,CAAC6B,GAAG,CAACH,IAAJ,CAASc,KAAV,CAAT;AACA1C,UAAAA,WAAW,CAAC,IAAD,CAAX;AACD;AACF,OAxBD;AAyBAI,MAAAA,QAAQ,CAAC,EAAD,CAAR,EAAcI,WAAW,CAAC,EAAD,CAAzB,EAA+BF,OAAO,CAAC,EAAD,CAAtC;AACD;AACF,GA7CD;;AA+CA,sBACE,QAAC,QAAD;AAAA,2BACE;AACE,MAAA,SAAS,EAAElB,OAAO,CAACuD,gBAAR,GAA2B,GAA3B,GAAiC,WAD9C;AAEE,MAAA,SAAS,EAAGC,CAAD,IAAO;AAChB,YAAIA,CAAC,CAACC,IAAF,KAAW,OAAf,EAAwB;AACtBxB,UAAAA,aAAa;AACd;AACF,OANH;AAAA,6BAQE;AAAK,QAAA,SAAS,EAAEjC,OAAO,CAAC0D,WAAxB;AAAA,gCACE;AAAO,UAAA,SAAS,EAAE1D,OAAO,CAAC2D,YAA1B;AAAA,oBACGlD,KAAK,GAAG,aAAH,GAAmB;AAD3B;AAAA;AAAA;AAAA;AAAA,gBADF,eAIE;AAAO,UAAA,SAAS,EAAET,OAAO,CAAC4D,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJF,eAKE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,SAAS,EAAE,gBAFb;AAGE,UAAA,WAAW,EAAC,gFAHd;AAIE,UAAA,KAAK,EAAE7C,KAJT;AAKE,UAAA,QAAQ,EAAGyC,CAAD,IAAO;AACfxC,YAAAA,QAAQ,CAACwC,CAAC,CAACK,MAAF,CAASC,KAAV,CAAR;AACD;AAPH;AAAA;AAAA;AAAA;AAAA,gBALF,EAcG,CAACrD,KAAD,gBACC,QAAC,QAAD;AAAA,kCACE;AAAO,YAAA,SAAS,EAAET,OAAO,CAAC4D,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE;AACE,YAAA,IAAI,EAAC,MADP;AAEE,YAAA,SAAS,EAAE,gBAFb;AAGE,YAAA,WAAW,EAAC,gIAHd;AAIE,YAAA,KAAK,EAAE3C,IAJT;AAKE,YAAA,QAAQ,EAAGuC,CAAD,IAAO;AACftC,cAAAA,OAAO,CAACsC,CAAC,CAACK,MAAF,CAASC,KAAV,CAAP;AACD;AAPH;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,GAaG,IA3BN,eA4BE;AAAO,UAAA,SAAS,EAAE9D,OAAO,CAAC4D,WAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5BF,eA6BE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,SAAS,EAAE,mBAAmB,GAAnB,GAAyB5D,OAAO,CAAC+D,YAF9C;AAGE,UAAA,WAAW,EAAC,kGAHd;AAIE,UAAA,KAAK,EAAE5C,QAJT;AAKE,UAAA,QAAQ,EAAGqC,CAAD,IAAO;AACfpC,YAAAA,WAAW,CAACoC,CAAC,CAACK,MAAF,CAASC,KAAV,CAAX;AACD;AAPH;AAAA;AAAA;AAAA;AAAA,gBA7BF,eAsCE;AACE,UAAA,IAAI,EAAC,QADP;AAEE,UAAA,SAAS,EAAE,2BAFb;AAGE,UAAA,KAAK,EAAErD,KAAK,GAAG,aAAH,GAAmB,aAHjC;AAIE,UAAA,OAAO,EAAEwB;AAJX;AAAA;AAAA;AAAA;AAAA,gBAtCF,eA4CE;AAAO,UAAA,KAAK,EAAE;AAAE+B,YAAAA,SAAS,EAAE;AAAb,WAAd;AAAA,qBACGvD,KAAK,GAAG,iCAAH,GAAuC,kBAD/C,eAEE;AACE,YAAA,KAAK,EAAE;AAAEwD,cAAAA,KAAK,EAAExD,KAAK,GAAG,KAAH,GAAW,OAAzB;AAAkCyD,cAAAA,MAAM,EAAE;AAA1C,aADT;AAEE,YAAA,OAAO,EAAE,MAAM;AACbtD,cAAAA,WAAW,CAAC,KAAD,CAAX;AACAI,cAAAA,QAAQ,CAAC,EAAD,CAAR;AACAI,cAAAA,WAAW,CAAC,EAAD,CAAX;AACAF,cAAAA,OAAO,CAAC,EAAD,CAAP;AACAR,cAAAA,QAAQ,CAAC,CAACD,KAAF,CAAR;AACD,aARH;AAAA,sBAUGA,KAAK,GAAG,UAAH,GAAgB;AAVxB;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5CF,EA2DGE,QAAQ,gBACP;AAAK,UAAA,SAAS,EAAEX,OAAO,CAACmE,YAAxB;AAAA,oBAAuCtD;AAAvC;AAAA;AAAA;AAAA;AAAA,gBADO,gBAGP,qCA9DJ;AAAA;AAAA;AAAA;AAAA;AAAA;AARF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AA8ED,CAlJD;;AAoJA,eAAeN,KAAf","sourcesContent":["import classes from \"./login.module.css\";\nimport axios from \"axios\";\nimport { Fragment, useEffect, useState } from \"react\";\nimport Redirect from \"../../components/Redirect\";\nimport { useCookies } from \"react-cookie\";\nconst Login = (props) => {\n  const [login, setLogin] = useState(true);\n  const [errLogin, setErrLogin] = useState(false);\n  const [errMsg, setErrMsg] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userLogin, setUserLogin] = useState(false);\n  const [cookie, setCookie] = useCookies([\"token\"]);\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    if (token) setUserLogin(true);\n  }, []);\n\n  if (userLogin) {\n    return <Redirect to=\"/\" />;\n  }\n  const validateEmail = (email) => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(String(email).toLowerCase());\n  };\n  const handlerSubmit = () => {\n    if (!validateEmail(email)) {\n      alert(\"อีเมลไม่ถูกต้อง\");\n      return;\n    }\n    let authAction = \"login\";\n    let dataAuth = {\n      email: email,\n      password: password,\n    };\n    if (!login) {\n      if (name.trim === \"\") alert(\"กรุณาใส่ข้อมูลให้ครบ\");\n      authAction = \"register\";\n      dataAuth[\"name\"] = name;\n    }\n    if (email.trim === \"\" || password.trim() === \"\") {\n      alert(\"กรุณาใส่ข้อมูลให้ครบ\");\n    } else {\n      axios({\n        url: `http://localhost:8000/api/user/${authAction}`,\n        method: \"post\",\n        data: dataAuth,\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      }).then((res) => {\n        console.log(res);\n        if (res.data.status === true) {\n          if (login) {\n            localStorage.setItem(\"token\", res.data.token);\n            cookies.set(\"myCat\", res.data.token, { path: \"/\" });\n            setUserLogin(true);\n            window.location.href = \"/\";\n          } else {\n            setErrLogin(false);\n            alert(\"สมัครสมาชิกเรียบร้อย\");\n            setLogin(!login);\n          }\n        } else {\n          setErrMsg(res.data.error);\n          setErrLogin(true);\n        }\n      });\n      setEmail(\"\"), setPassword(\"\"), setName(\"\");\n    }\n  };\n\n  return (\n    <Fragment>\n      <div\n        className={classes.container__login + \" \" + \"container\"}\n        onKeyDown={(e) => {\n          if (e.code === \"Enter\") {\n            handlerSubmit();\n          }\n        }}\n      >\n        <div className={classes.form__login}>\n          <label className={classes.title__login}>\n            {login ? \"เข้าสู่ระบบ\" : \"สมัครสมาชิก\"}\n          </label>\n          <label className={classes.text__login}> อีเมล :</label>\n          <input\n            type=\"text\"\n            className={\"form-label p-2\"}\n            placeholder=\"กรุณาใส่อีเมล\"\n            value={email}\n            onChange={(e) => {\n              setEmail(e.target.value);\n            }}\n          />\n          {!login ? (\n            <Fragment>\n              <label className={classes.text__login}>ชื่อผู้ใช้งาน</label>\n              <input\n                type=\"text\"\n                className={\"form-label p-2\"}\n                placeholder=\"กรุณาใส่ชื่อผู้ใช้งาน\"\n                value={name}\n                onChange={(e) => {\n                  setName(e.target.value);\n                }}\n              />\n            </Fragment>\n          ) : null}\n          <label className={classes.text__login}>รหัสผ่าน :</label>\n          <input\n            type=\"text\"\n            className={\"form-label p-2\" + \" \" + classes.input_secure}\n            placeholder=\"กรุณาใส่รหัสผ่าน\"\n            value={password}\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n          />\n          <input\n            type=\"submit\"\n            className={\"btn btn-primary mt-3 mb-3\"}\n            value={login ? \"เข้าสู่ระบบ\" : \"สมัครสมาชิก\"}\n            onClick={handlerSubmit}\n          />\n          <label style={{ textAlign: \"center\" }}>\n            {login ? \"ท่านยังไม่ได้เป็นสมาชิกใช่ไหม? \" : \"มีบัญชีอยู่แล้ว \"}\n            <a\n              style={{ color: login ? \"red\" : \"green\", cursor: \"pointer\" }}\n              onClick={() => {\n                setErrLogin(false);\n                setEmail(\"\");\n                setPassword(\"\");\n                setName(\"\");\n                setLogin(!login);\n              }}\n            >\n              {login ? \"สร้างเลย\" : \"เข้าสู่ระบบ\"}\n            </a>\n          </label>\n          {errLogin ? (\n            <div className={classes.error__login}>{errMsg}</div>\n          ) : (\n            <></>\n          )}\n        </div>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}